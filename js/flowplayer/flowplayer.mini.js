//2013-07-12 去logo版本。
!function(a){function f(b,c){var d="obj"+(""+Math.random()).slice(2,15),e='<object class="fp-engine" id="'+d+'" name="'+d+'" ';e+=a.browser.msie?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">':' data="'+b+'" type="application/x-shockwave-flash">';var f={width:"100%",height:"100%",allowscriptaccess:"always",wmode:"transparent",quality:"high",flashvars:"",movie:b+(a.browser.msie?"?"+d:""),name:d};return a.each(c,function(a,b){f.flashvars+=a+"="+b+"&"}),a.each(f,function(a,b){e+='<param name="'+a+'" value="'+b+'"/>'}),e+="</object>",a(e)}function i(a){return Math.round(100*a)/100}function j(a){return/mpegurl/i.test(a)?"application/x-mpegurl":"video/"+a}function k(a){return/^(video|application)/.test(a)||(a=j(a)),!!g.canPlayType(a).replace("no","")}function l(b,c){var d=a.grep(b,function(a){return a.type===c});return d.length?d[0]:null}function p(a){var b=a.attr("src"),c=a.attr("type")||"",d=b.split(o)[1];return c=/mpegurl/.test(c)?"mpegurl":c.replace("video/",""),{src:b,suffix:d||c,type:c||d}}function q(b){var c=this,d=[];a("source",b).each(function(){d.push(p(a(this)))}),d.length||d.push(p(b)),c.initialSources=d,c.resolve=function(b){return b?(a.isArray(b)?b={sources:a.map(b,function(b){var c,d=a.extend({},b);return a.each(b,function(a){c=a}),d.type=c,d.src=b[c],delete d[c],d})}:"string"==typeof b&&(b={src:b,sources:[]},a.each(d,function(a,c){"flash"!=c.type&&b.sources.push({type:c.type,src:b.src.replace(o,"."+c.suffix+"$2")})})),b):{sources:d}}}function r(a){return a=parseInt(a,10),a>=10?a:"0"+a}function s(a){a=a||0;var b=Math.floor(a/3600),c=Math.floor(a/60);return a-=60*c,b>=1?(c-=60*b,b+":"+r(c)+":"+r(a)):r(c)+":"+r(a)}!function(a){if(!a.browser){var b=a.browser={},c=navigator.userAgent.toLowerCase(),d=/(chrome)[ \/]([\w.]+)/.exec(c)||/(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];d[1]&&(b[d[1]]=!0,b.version=d[2]||"0")}}(jQuery),a(function(){"function"==typeof a.fn.flowplayer&&a("video").parent(".flowplayer").flowplayer()});var b=[],c=[],d=window.navigator.userAgent;window.flowplayer=function(d){return a.isFunction(d)?c.push(d):"number"==typeof d||void 0===d?b[d||0]:a(d).data("flowplayer")},a(window).on("beforeunload",function(){a.each(b,function(b,c){c.conf.splash?c.unload():c.bind("error",function(){a(".flowplayer.is-error .fp-message").remove()})})}),a.extend(flowplayer,{version:"5.4.3",engine:{},conf:{},support:{},defaults:{debug:!1,disabled:!1,engine:"html5",fullscreen:window==window.top,keyboard:!0,ratio:9/16,adaptiveRatio:!1,flashfit:!1,rtmp:0,splash:!1,swf:"//releases.flowplayer.org/5.4.3/flowplayer.swf",speeds:[.25,.5,1,1.5,2],tooltip:!0,volume:"object"!=typeof localStorage?1:"true"==localStorage.muted?0:isNaN(localStorage.volume)?1:localStorage.volume||1,errors:["","Video loading aborted","Network error","Video not properly encoded","Video file not found","Unsupported video","Skin not found","SWF file not found","Subtitles not found","Invalid RTMP URL","Unsupported video format. Try installing Adobe Flash."],errorUrls:["","","","","","","","","","","http://get.adobe.com/flashplayer/"],playlist:[]}});var e=1;a.fn.flowplayer=function(d,f){return"string"==typeof d&&(d={swf:d}),a.isFunction(d)&&(f=d,d={}),!d&&this.data("flowplayer")||this.each(function(){var l,m,g=a(this).addClass("is-loading"),h=a.extend({},flowplayer.defaults,flowplayer.conf,d,g.data()),i=a("video",g).addClass("fp-engine").removeAttr("controls"),j=i.length?new q(i):null,k={};if(h.playlist.length){var o,n=i.attr("preload");i.length&&i.replaceWith(o=a("<p />")),i=a("<video />").addClass("fp-engine"),o?o.replaceWith(i):g.prepend(i),i.attr("preload",n),"string"==typeof h.playlist[0]?i.attr("src",h.playlist[0]):a.each(h.playlist[0],function(b,c){for(var d in c)c.hasOwnProperty(d)&&i.append(a("<source />").attr({type:"video/"+d,src:c[d]}))}),j=new q(i)}var p=g.data("flowplayer");p&&p.unload(),g.data("fp-player_id",g.data("fp-player_id")||e++);try{k=window.localStorage||k}catch(r){}var s=this.currentStyle&&"rtl"===this.currentStyle.direction||window.getComputedStyle&&"rtl"===window.getComputedStyle(this,null).getPropertyValue("direction");s&&g.addClass("is-rtl");var t=p||{conf:h,currentSpeed:1,volumeLevel:"undefined"==typeof h.volume?1*k.volume:h.volume,video:{},disabled:!1,finished:!1,loading:!1,muted:"true"==k.muted||h.muted,paused:!1,playing:!1,ready:!1,splash:!1,rtl:s,load:function(b,c){if(!(t.error||t.loading||t.disabled)){if(b=j.resolve(b),a.extend(b,m.pick(b.sources)),b.src){var d=a.Event("load");g.trigger(d,[t,b,m]),d.isDefaultPrevented()?t.loading=!1:(m.load(b),a.isFunction(b)&&(c=b),c&&g.one("ready",c))}return t}},pause:function(a){return!t.ready||t.seeking||t.disabled||t.loading||(m.pause(),t.one("pause",a)),t},resume:function(){return t.ready&&t.paused&&!t.disabled&&(m.resume(),t.finished&&(t.trigger("resume"),t.finished=!1)),t},toggle:function(){return t.ready?t.paused?t.resume():t.pause():t.load()},seek:function(b,c){if(t.ready){if("boolean"==typeof b){var d=.1*t.video.duration;b=t.video.time+(b?d:-d)}b=l=Math.min(Math.max(b,0),t.video.duration).toFixed(1);var e=a.Event("beforeseek");g.trigger(e,[t,b]),e.isDefaultPrevented()?(t.seeking=!1,g.toggleClass("is-seeking",t.seeking)):(m.seek(b),a.isFunction(c)&&g.one("seek",c))}return t},seekTo:function(a,b){var c=void 0===a?l:.1*t.video.duration*a;return t.seek(c,b)},mute:function(a){return void 0===a&&(a=!t.muted),k.muted=t.muted=a,k.volume=isNaN(k.volume)?h.volume:k.volume,t.volume(a?0:k.volume,!0),t.trigger("mute",a),t},volume:function(a,b){return t.ready&&(a=Math.min(Math.max(a,0),1),b||(k.volume=a),m.volume(a)),t},speed:function(b,c){return t.ready&&("boolean"==typeof b&&(b=h.speeds[a.inArray(t.currentSpeed,h.speeds)+(b?1:-1)]||t.currentSpeed),m.speed(b),c&&g.one("speed",c)),t},stop:function(){return t.ready&&(t.pause(),t.seek(0,function(){g.trigger("stop")})),t},unload:function(){return g.hasClass("is-embedding")||(h.splash?(t.trigger("unload"),m.unload()):t.stop()),t},disable:function(a){return void 0===a&&(a=!t.disabled),a!=t.disabled&&(t.disabled=a,t.trigger("disable",a)),t}};t.conf=a.extend(t.conf,h),a.each(["bind","one","unbind"],function(a,b){t[b]=function(a,c){return g[b](a,c),t}}),t.trigger=function(a,b){return g.trigger(a,[t,b]),t},g.data("flowplayer")||g.bind("boot",function(){return a.each(["autoplay","loop","preload","poster"],function(a,b){var c=i.attr(b);void 0!==c&&(h[b]=c?c:!0)}),(h.splash||g.hasClass("is-splash")||!flowplayer.support.firstframe)&&(t.forcedSplash=!h.splash&&!g.hasClass("is-splash"),t.splash=h.splash=h.autoplay=!0,g.addClass("is-splash"),i.attr("preload","none")),a.each(c,function(){this(t,g)}),m=flowplayer.engine[h.engine],m&&(m=m(t,g)),m.pick(j.initialSources)?t.engine=h.engine:a.each(flowplayer.engine,function(a){return a!=h.engine?(m=this(t,g),m.pick(j.initialSources)&&(t.engine=a),!1):void 0}),b.push(t),t.engine?(h.splash?t.unload():t.load(),h.disabled&&t.disable(),m.volume(t.volumeLevel),g.one("ready",f),void 0):t.trigger("error",{code:flowplayer.support.flashVideo?5:10})}).bind("load",function(b,c){h.splash&&a(".flowplayer").filter(".is-ready, .is-loading").not(g).each(function(){var b=a(this).data("flowplayer");b.conf.splash&&b.unload()}),g.addClass("is-loading"),c.loading=!0}).bind("ready",function(a,b,c){function d(){g.removeClass("is-loading"),b.loading=!1}c.time=0,b.video=c,h.splash?g.one("progress",d):d(),b.muted?b.mute(!0):b.volume(b.volumeLevel)}).bind("unload",function(){h.splash&&i.remove(),g.removeClass("is-loading"),t.loading=!1}).bind("ready unload",function(a){var b="ready"==a.type;g.toggleClass("is-splash",!b).toggleClass("is-ready",b),t.ready=b,t.splash=!b}).bind("progress",function(a,b,c){b.video.time=c}).bind("speed",function(a,b,c){b.currentSpeed=c}).bind("volume",function(a,b,c){b.volumeLevel=Math.round(100*c)/100,b.muted?c&&b.mute(!1):k.volume=c}).bind("beforeseek seek",function(a){t.seeking="beforeseek"==a.type,g.toggleClass("is-seeking",t.seeking)}).bind("ready pause resume unload finish stop",function(a,b,c){t.paused=/pause|finish|unload|stop/.test(a.type),"ready"==a.type&&(t.paused="none"==h.preload,c&&(t.paused=!c.duration||!h.autoplay&&"none"!=h.preload)),t.playing=!t.paused,g.toggleClass("is-paused",t.paused).toggleClass("is-playing",t.playing),t.load.ed||t.pause()}).bind("finish",function(){t.finished=!0}).bind("error",function(){i.remove()}),g.trigger("boot",[t,g]).data("flowplayer",t)})},!function(){var b=function(a){var b=/Version\/(\d\.\d)/.exec(a);return b&&b.length>1?parseFloat(b[1],10):0},c=flowplayer.support,d=a.browser,e=a("<video loop autoplay preload/>")[0],f=d.msie,g=navigator.userAgent,h=/iPad|MeeGo/.test(g)&&!/CriOS/.test(g),i=/iPad/.test(g)&&/CriOS/.test(g),j=/iP(hone|od)/i.test(g)&&!/iPad/.test(g),k=/Android/.test(g)&&!/Firefox/.test(g),l=/Android/.test(g)&&/Firefox/.test(g),m=/Silk/.test(g),n=/IEMobile/.test(g),p=(h?b(g):0,k?parseFloat(/Android\ (\d\.\d)/.exec(g)[1],10):0);a.extend(c,{subtitles:!!e.addTextTrack,fullscreen:!k&&("function"==typeof document.webkitCancelFullScreen&&!/Mac OS X 10_5.+Version\/5\.0\.\d Safari/.test(g)||document.mozFullScreenEnabled||"function"==typeof document.exitFullscreen),inlineBlock:!(f&&d.version<8),touch:"ontouchstart"in window,dataload:!h&&!j&&!n,zeropreload:!f&&!k,volume:!(h||k||j||m||i),cachedVideoTag:!(h||j||i||n),firstframe:!(j||h||k||m||i||n||l),inlineVideo:!j&&!m&&!n&&(!k||p>=3),hlsDuration:!d.safari||h||j||i,seekable:!h&&!i});try{var q=f?new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"):navigator.plugins["Shockwave Flash"].description;q=q.split(/\D+/),q.length&&!q[0]&&(q=q.slice(1)),c.flashVideo=q[0]>9||9==q[0]&&q[3]>=115}catch(r){}try{c.video=!!e.canPlayType,c.video&&e.canPlayType("video/mp4")}catch(s){c.video=!1}c.animation=function(){for(var b=["","Webkit","Moz","O","ms","Khtml"],c=a("<p/>")[0],d=0;d<b.length;d++)if("undefined"!==c.style[b[d]+"AnimationName"])return!0}()}(),window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_savedUnloadHandler=__flash_unloadHandler=function(){}}),flowplayer.engine.flash=function(b,c){var g,h,i,d=b.conf;b.video;var j={pick:function(b){if(flowplayer.support.flashVideo){var c=a.grep(b,function(a){return"flash"==a.type})[0];if(c)return c;for(var e,d=0;d<b.length;d++)if(e=b[d],/mp4|flv/.test(e.type))return e}},load:function(e){function j(a){return a.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D")}var k=a("video",c),l=j(e.src);if(is_absolute=/^https?:/.test(l),k.length>0&&flowplayer.support.video&&k[0].pause(),k.remove(),is_absolute||d.rtmp||(l=a("<img/>").attr("src",l)[0].src),i)i.__play(l);else{g="fp"+(""+Math.random()).slice(3,15);var m={hostname:d.embedded?d.hostname:location.hostname,url:l,callback:"jQuery."+g};c.data("origin")&&(m.origin=c.data("origin")),is_absolute&&delete d.rtmp,a.each(["key","autoplay","preload","rtmp","loop","debug","preload","splash"],function(a,b){d[b]&&(m[b]=d[b])}),m.rtmp&&(m.rtmp=j(m.rtmp)),h=f(d.swf,m),h.prependTo(c),i=h[0],setTimeout(function(){try{if(!i.PercentLoaded())return c.trigger("error",[b,{code:7,url:d.swf}])}catch(a){}},5e3),a[g]=function(c,f){d.debug&&"status"!=c&&console.log("--",c,f);var g=a.Event(c);switch(c){case"ready":f=a.extend(e,f);break;case"click":g.flash=!0;break;case"keydown":g.which=f;break;case"seek":e.time=f;break;case"buffered":e.buffered=!0;break;case"status":b.trigger("progress",f.time),f.buffer<=e.bytes&&!e.buffered?(e.buffer=f.buffer/e.bytes*e.duration,b.trigger("buffer",e.buffer)):e.buffered&&b.trigger("buffered")}setTimeout(function(){b.trigger(g,f)},1)}}},speed:a.noop,unload:function(){i&&i.__unload&&i.__unload(),delete a[g],a("object",c).remove(),i=0}};a.each("pause,resume,seek,volume".split(","),function(a,c){j[c]=function(a){b.ready&&("seek"==c&&b.video.time&&!b.paused&&b.trigger("beforeseek"),void 0===a?i["__"+c]():i["__"+c](a))}});var k=a(window);return b.bind("ready fullscreen fullscreen-exit",function(d){var e=c.height(),f=c.width();if(b.conf.flashfit||/full/.test(d.type)){var q,r,g=b.isFullscreen,h=g&&A,i=!flowplayer.support.inlineBlock,j=g?h?screen.availWidth:k.width():f,l=g?h?screen.availHeight:k.height():e,m=h?screen.width-screen.availWidth:0,n=h?screen.height-screen.availHeight:0,o=i?f:"",p=i?e:"";(b.conf.flashfit||"fullscreen"===d.type)&&(q=b.video.width/b.video.height,r=b.video.height/b.video.width,p=Math.max(r*j),o=Math.max(q*l),p=p>l?o*r:p,p=Math.min(Math.round(p),l),o=o>j?p*q:o,o=Math.min(Math.round(o),j),n=Math.max(Math.round((l+n-p)/2),0),m=Math.max(Math.round((j+m-o)/2),0)),a("object",c).css({width:o,height:p,marginTop:n,marginLeft:m})}}),j};var m,g=a("<video/>")[0],h={ended:"finish",pause:"pause",play:"resume",progress:"buffer",timeupdate:"progress",volumechange:"volume",ratechange:"speed",seeked:"seek",loadeddata:"ready",error:"error",dataunavailable:"error"},n=function(b){return m?m.attr({type:j(b.type),src:b.src}):m=a("<video/>",{src:b.src,type:j(b.type),"class":"fp-engine",autoplay:"autoplay",preload:"none","x-webkit-airplay":"allow"})};flowplayer.engine.html5=function(b,c){function q(d,f,j){d.listeners&&d.listeners.hasOwnProperty(c.data("fp-player_id"))||((d.listeners||(d.listeners={}))[c.data("fp-player_id")]=!0,f.bind("error",function(c){try{if(c.originalEvent&&a(c.originalEvent.originalTarget).is("img"))return c.preventDefault();k(a(c.target).attr("type"))&&b.trigger("error",{code:4})}catch(d){}}),a.each(h,function(f,h){d.addEventListener(f,function(k){if("progress"==h&&k.srcElement&&0===k.srcElement.readyState&&setTimeout(function(){b.video.duration||(h="error",b.trigger(h,{code:4}))},1e4),g.debug&&!/progress/.test(h)&&console.log(f,"->",h,k),(b.ready||/ready|error/.test(h))&&h&&a("video",c).length){var m,l=a.Event(h);switch(h){case"ready":m=a.extend(j,{duration:d.duration,width:d.videoWidth,height:d.videoHeight,url:d.currentSrc,src:d.currentSrc});try{m.seekable=d.seekable&&d.seekable.end(null)}catch(n){}if(o=o||setInterval(function(){try{m.buffer=d.buffered.end(null)}catch(a){}m.buffer&&(m.buffer<=m.duration&&!m.buffered?b.trigger("buffer",k):m.buffered||(m.buffered=!0,b.trigger("buffer",k).trigger("buffered",k),clearInterval(o),o=0))},250),!m.duration&&!e.hlsDuration&&"loadeddata"===f){var p=function(){m.duration=d.duration;try{m.seekable=d.seekable&&d.seekable.end(null)}catch(a){}b.trigger(l,m),d.removeEventListener("durationchange",p)};return d.addEventListener("durationchange",p),void 0}break;case"progress":case"seek":if(b.video.duration,d.currentTime>0){m=Math.max(d.currentTime,0);break}if("progress"==h)return;case"speed":m=i(d.playbackRate);break;case"volume":m=i(d.volume);break;case"error":try{m=(k.srcElement||k.originalTarget).error}catch(r){return}}b.trigger(l,m)}},!1)}))}var j,o,p,d=a("video",c),e=flowplayer.support,f=a("track",d),g=b.conf;return j={pick:function(a){if(e.video){if(g.videoTypePreference){var b=l(a,g.videoTypePreference);if(b)return b}for(var c=0;c<a.length;c++)if(k(a[c].type))return a[c]}},load:function(h){if(g.splash&&!p)d=n(h).prependTo(c),e.inlineVideo||d.css({position:"absolute",top:"-9999em"}),f.length&&d.append(f.attr("default","")),g.loop&&d.attr("loop","loop"),p=d[0];else{p=d[0];var i=d.find("source");!p.src&&i.length&&(p.src=h.src,i.remove()),b.video.src&&h.src!=b.video.src?(d.attr("autoplay","autoplay"),p.src=h.src):"none"!=g.preload&&e.dataload||(e.zeropreload?b.trigger("ready",h).trigger("pause").one("ready",function(){c.trigger("resume")}):b.one("ready",function(){c.trigger("pause")}))}q(p,a("source",d).add(d),h),"none"==g.preload&&e.zeropreload&&e.dataload||p.load(),g.splash&&p.load()},pause:function(){p.pause()},resume:function(){p.play()},speed:function(a){p.playbackRate=a},seek:function(a){try{var c=b.paused;p.currentTime=a,c&&p.pause()}catch(d){}},volume:function(a){p.volume=a},unload:function(){a("video.fp-engine",c).remove(),e.cachedVideoTag||(m=null),o=clearInterval(o),p=0}}};var o=/\.(\w{3,4})(\?.*)?$/i;a.throttle=function(a,b){var c;return function(){c||(a.apply(this,arguments),c=1,setTimeout(function(){c=0},b))}},a.fn.slider2=function(b){var c=/iPad/.test(navigator.userAgent)&&!/CriOS/.test(navigator.userAgent);return this.each(function(){var g,h,i,j,k,l,m,n,d=a(this),e=a(document),f=d.children(":last"),o=!1,p=function(){h=d.offset(),i=d.width(),j=d.height(),l=k?j:i,n=t(m)},q=function(a){g||a==u.value||m&&!(m>a)||(d.trigger("slide",[a]),u.value=a)},r=function(a){var c=a.pageX;!c&&a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length&&(c=a.originalEvent.touches[0].pageX);var d=k?a.pageY-h.top:c-h.left;d=Math.max(0,Math.min(n||l,d));var e=d/l;return k&&(e=1-e),b&&(e=1-e),s(e,0,!0)},s=function(a,b){void 0===b&&(b=0),a>1&&(a=1);var d=Math.round(1e3*a)/10+"%";return(!m||m>=a)&&(c||f.stop(),o?f.css("width",d):f.animate(k?{height:d}:{width:d},b,"linear")),a},t=function(a){return Math.max(0,Math.min(l,k?(1-a)*j:a*i))},u={max:function(a){m=a},disable:function(a){g=a},slide:function(a,b,c){p(),c&&q(a),s(a,b)},disableAnimation:function(a){o=a!==!1}};p(),d.data("api",u).bind("mousedown.sld touchstart",function(b){if(b.preventDefault(),!g){var c=a.throttle(q,100);p(),u.dragging=!0,d.addClass("is-dragging"),q(r(b)),e.bind("mousemove.sld touchmove",function(a){a.preventDefault(),c(r(a))}).one("mouseup touchend",function(){u.dragging=!1,d.removeClass("is-dragging"),e.unbind("mousemove.sld touchmove")})}})})},flowplayer(function(b,c){function g(b){return a(".fp-"+b,c)}function y(b){("0px"===c.css("width")||"0px"===c.css("height")||b!==flowplayer.defaults.ratio)&&(parseInt(p,10)||m.css("paddingTop",100*b+"%")),e.inlineBlock||a("object",c).height(c.height())}function z(a){c.toggleClass("is-mouseover",a).toggleClass("is-mouseout",!a)}var f,d=b.conf,e=flowplayer.support;c.find(".fp-ratio,.fp-ui").remove(),c.addClass("flowplayer").append('      <div class="ratio"/>      <div class="ui">         <div class="waiting"><em/><em/><em/></div>         <a class="fullscreen"/>         <a class="unload"/>         <p class="speed"/>         <div class="controls">            <a class="play"></a>            <div class="timeline">               <div class="buffer"/>               <div class="progress"/>            </div>            <div class="volume">               <a class="mute"></a>               <div class="volumeslider">                  <div class="volumelevel"/>               </div>            </div>         </div>         <div class="time">            <em class="elapsed">00:00</em>            <em class="remaining"/>            <em class="duration">00:00</em>         </div>         <div class="message"><h2/><p/></div>      </div>'.replace(/class="/g,'class="fp-'));var h=g("progress"),i=g("buffer"),j=g("elapsed"),k=g("remaining"),l=g("waiting"),m=g("ratio"),n=g("speed"),o=g("duration"),p=m.css("paddingTop"),q=g("timeline").slider2(b.rtl),r=q.data("api"),u=(g("volume"),g("fullscreen")),v=g("volumeslider").slider2(b.rtl),w=v.data("api"),x=c.is(".fixed-controls, .no-toggle");r.disableAnimation(c.hasClass("is-touch")),e.animation||l.html("<p>loading &hellip;</p>"),y(d.ratio);try{d.fullscreen||u.remove()}catch(A){u.remove()}b.bind("ready",function(){var a=b.video.duration;r.disable(b.disabled||!a),d.adaptiveRatio&&y(b.video.height/b.video.width),o.add(k).html(s(a)),a>=3600&&c.addClass("is-long")||c.removeClass("is-long"),w.slide(b.volumeLevel)}).bind("unload",function(){p||m.css("paddingTop","")}).bind("buffer",function(){var a=b.video,c=a.buffer/a.duration;!a.seekable&&e.seekable&&r.max(c),1>c?i.css("width",100*c+"%"):i.css({width:"100%"})}).bind("speed",function(a,b,c){n.text(c+"x").addClass("fp-hilite"),setTimeout(function(){n.removeClass("fp-hilite")},1e3)}).bind("buffered",function(){i.css({width:"100%"}),r.max(1)}).bind("progress",function(){var a=b.video.time,c=b.video.duration;r.dragging||r.slide(a/c,b.seeking?0:250),j.html(s(a)),k.html("-"+s(c-a))}).bind("finish resume seek",function(a){c.toggleClass("is-finished","finish"==a.type)}).bind("stop",function(){j.html(s(0)),r.slide(0,100)}).bind("finish",function(){j.html(s(b.video.duration)),r.slide(1,100),c.removeClass("is-seeking")}).bind("beforeseek",function(){h.stop()}).bind("volume",function(){w.slide(b.volumeLevel)}).bind("disable",function(){var a=b.disabled;r.disable(a),w.disable(a),c.toggleClass("is-disabled",b.disabled)}).bind("mute",function(a,b,d){c.toggleClass("is-muted",d)}).bind("error",function(b,e,f){if(c.removeClass("is-loading").addClass("is-error"),f){f.message=d.errors[f.code],e.error=!0;var g=a(".fp-message",c);a("h2",g).text((e.engine||"html5")+": "+f.message),a("p",g).text(f.url||e.video.url||e.video.src||d.errorUrls[f.code]),c.unbind("mouseenter click").removeClass("is-mouseover")}}).bind("mouseenter mouseleave",function(a){if(!x){var d,b="mouseenter"==a.type;z(b),b?(c.bind("pause.x mousemove.x volume.x",function(){z(!0),d=new Date}),f=setInterval(function(){new Date-d>5e3&&(z(!1),d=new Date)},100)):(c.unbind(".x"),clearInterval(f))}}).bind("mouseleave",function(){(r.dragging||w.dragging)&&c.addClass("is-mouseover").removeClass("is-mouseout")}).bind("click.player",function(c){return a(c.target).is(".fp-ui, .fp-engine")||c.flash?(c.preventDefault(),b.toggle()):void 0}),d.poster&&c.css("backgroundImage","url("+d.poster+")");var B=c.css("backgroundColor"),C="none"!=c.css("backgroundImage")||B&&"rgba(0, 0, 0, 0)"!=B&&"transparent"!=B;!C||d.splash||d.autoplay||b.bind("ready stop",function(){c.addClass("is-poster").one("progress",function(){c.removeClass("is-poster")})}),!C&&b.forcedSplash&&c.css("backgroundColor","#555"),a(".fp-toggle, .fp-play",c).click(b.toggle),a.each(["mute","fullscreen","unload"],function(a,c){g(c).click(function(){b[c]()})}),q.bind("slide",function(a,c){b.seeking=!0,b.seek(c*b.video.duration)}),v.bind("slide",function(a,c){b.volume(c)}),g("time").click(function(){a(this).toggleClass("is-inverted")}),z(x)});var t,u,v="is-help";a(document).bind("keydown.fp",function(b){var c=t,d=b.ctrlKey||b.metaKey||b.altKey,e=b.which,f=c&&c.conf;if(c&&f.keyboard&&!c.disabled){if(-1!=a.inArray(e,[63,187,191,219]))return u.toggleClass(v),!1;if(27==e&&u.hasClass(v))return u.toggleClass(v),!1;if(!d&&c.ready){if(b.preventDefault(),b.shiftKey)return 39==e?c.speed(!0):37==e&&c.speed(!1),void 0;if(58>e&&e>47)return c.seekTo(e-48);switch(e){case 38:case 75:c.volume(c.volumeLevel+.15);break;case 40:case 74:c.volume(c.volumeLevel-.15);break;case 39:case 76:c.seeking=!0,c.seek(!0);break;case 37:case 72:c.seeking=!0,c.seek(!1);break;case 190:c.seekTo();break;case 32:c.toggle();break;case 70:f.fullscreen&&c.fullscreen();break;case 77:c.mute();break;case 27:c[c.isFullscreen?"fullscreen":"unload"]()}}}}),flowplayer(function(b,c){b.conf.keyboard&&(c.bind("mouseenter mouseleave",function(a){t=b.disabled||"mouseenter"!=a.type?0:b,t&&(u=c)}),c.append('      <div class="fp-help">         <a class="fp-close"></a>         <div class="fp-help-section fp-help-basics">            <p><em>space</em>play / pause</p>            <p><em>esc</em>stop</p>            <p><em>f</em>fullscreen</p>            <p><em>shift</em> + <em>&#8592;</em><em>&#8594;</em>slower / faster <small>(latest Chrome and Safari)</small></p>         </div>         <div class="fp-help-section">            <p><em>&#8593;</em><em>&#8595;</em>volume</p>            <p><em>m</em>mute</p>         </div>         <div class="fp-help-section">            <p><em>&#8592;</em><em>&#8594;</em>seek</p>            <p><em>&nbsp;. </em>seek to previous            </p><p><em>1</em><em>2</em>&hellip;<em>6</em> seek to 10%, 20%, &hellip;60% </p>         </div>      </div>   '),b.conf.tooltip&&a(".fp-ui",c).attr("title","Hit ? for help").on("mouseout.tip",function(){a(this).removeAttr("title").off("mouseout.tip")}),a(".fp-close",c).click(function(){c.toggleClass(v)}))});var z,w=a.browser.mozilla?"moz":"webkit",x="fullscreen",y="fullscreen-exit",A=flowplayer.support.fullscreen,B="function"==typeof document.exitFullscreen,C=navigator.userAgent.toLowerCase(),D=/(safari)[ \/]([\w.]+)/.exec(C)&&!/(chrome)[ \/]([\w.]+)/.exec(C);a(document).bind(B?"fullscreenchange":w+"fullscreenchange",function(b){var c=a(document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.fullscreenElement||b.target);c.length&&!z?z=c.trigger(x,[c]):(z.trigger(y,[z]),z=null)}),flowplayer(function(b,c){if(b.conf.fullscreen){var f,d=a(window),e={pos:0,play:!1};b.isFullscreen=!1,b.fullscreen=function(a){return b.disabled?void 0:(void 0===a&&(a=!b.isFullscreen),a&&(f=d.scrollTop()),A?a?B?c[0].requestFullscreen():(c[0][w+"RequestFullScreen"](Element.ALLOW_KEYBOARD_INPUT),!D||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||c[0][w+"RequestFullScreen"]()):B?document.exitFullscreen():document[w+"CancelFullScreen"]():("flash"===b.engine&&b.conf.rtmp&&(e={pos:b.video.time,play:b.playing}),b.trigger(a?x:y,[b])),b)};var g;c.bind("mousedown.fs",function(){+new Date-g<150&&b.ready&&b.fullscreen(),g=+new Date}),b.bind(x,function(){c.addClass("is-fullscreen"),b.isFullscreen=!0}).bind(y,function(){c.removeClass("is-fullscreen"),b.isFullscreen=!1,d.scrollTop(f)}).bind("ready",function(){e.pos&&!isNaN(e.pos)&&setTimeout(function(){b.play(),b.seek(e.pos),e.play||setTimeout(function(){b.pause()},100),e={pos:0,play:!1}},250)})}}),flowplayer(function(b,c){function f(){return a(d.query,c)}function g(){return a(d.query+"."+e,c)}var d=a.extend({active:"is-active",advance:!0,query:".fp-playlist a"},b.conf),e=d.active;b.play=function(c){return void 0===c?b.resume():"number"!=typeof c||b.conf.playlist[c]?("number"!=typeof c&&b.load.apply(null,arguments),b.unbind("resume.fromfirst"),b.video.index=c,b.load("string"==typeof b.conf.playlist[c]?b.conf.playlist[c].toString():a.map(b.conf.playlist[c],function(b){return a.extend({},b)})),b):b},b.next=function(a){a&&a.preventDefault();var c=b.video.index;return-1!=c&&(c=c===b.conf.playlist.length-1?0:c+1,b.play(c)),b},b.prev=function(a){a&&a.preventDefault();var c=b.video.index;return-1!=c&&(c=0===c?b.conf.playlist.length-1:c-1,b.play(c)),b},a(".fp-next",c).click(b.next),a(".fp-prev",c).click(b.prev),d.advance&&c.unbind("finish.pl").bind("finish.pl",function(a,b){var e=b.video.index+1;e<b.conf.playlist.length||d.loop?(e=e===b.conf.playlist.length?0:e,c.removeClass("is-finished"),setTimeout(function(){b.play(e)})):(c.addClass("is-playing"),b.conf.playlist.length>1&&b.one("resume.fromfirst",function(){return b.play(0),!1}))});var h=!1;if(b.conf.playlist.length){h=!0;var i=c.find(".fp-playlist");if(!i.length){i=a('<div class="fp-playlist"></div>');var j=a(".fp-next,.fp-prev",c).eq(0).before(i);j.length||a("video",c).after(i)}i.empty(),a.each(b.conf.playlist,function(b,c){var d;if("string"==typeof c)d=c;else for(var e in c[0])if(c[0].hasOwnProperty(e)){d=c[0][e];break}i.append(a("<a />").attr({href:d,"data-index":b}))})}if(f().length){h||(b.conf.playlist=[],f().each(function(){var c=a(this).attr("href");a(this).attr("data-index",b.conf.playlist.length),b.conf.playlist.push(c)})),c.on("click",d.query,function(c){c.preventDefault();var e=a(c.target).closest(d.query),f=Number(e.attr("data-index"));-1!=f&&b.play(f)});var k=f().filter("[data-cuepoints]").length;b.bind("load",function(d,f,h){var i=g().removeClass(e),j=i.attr("data-index"),l=h.index=b.video.index||0,m=a('a[data-index="'+l+'"]',c).addClass(e),n=l==b.conf.playlist.length-1;c.removeClass("video"+j).addClass("video"+l).toggleClass("last-video",n),h.index=f.video.index=l,h.is_last=f.video.is_last=n,k&&(b.cuepoints=m.data("cuepoints"))}).bind("unload.pl",function(){g().toggleClass(e)})}b.conf.playlist.length&&(b.conf.loop=!1)});var E=/ ?cue\d+ ?/;flowplayer(function(b,c){function e(a){c[0].className=c[0].className.replace(E," "),a>=0&&c.addClass("cue"+a)}var d=0;b.cuepoints=b.conf.cuepoints||[],b.bind("progress",function(a,f,g){if(d&&.015>g-d)return d=g;d=g;for(var j,h=b.cuepoints||[],i=0;i<h.length;i++)j=h[i],isNaN(j)||(j={time:j}),j.time<0&&(j.time=b.video.duration+j.time),j.index=i,Math.abs(j.time-g)<.125*b.currentSpeed&&(e(i),c.trigger("cuepoint",[b,j]))}).bind("unload seek",e),b.conf.generate_cuepoints&&b.bind("load",function(){a(".fp-cuepoint",c).remove()}).bind("ready",function(){var d=b.cuepoints||[],e=b.video.duration,f=a(".fp-timeline",c).css("overflow","visible");a.each(d,function(c,d){var g=d.time||d;0>g&&(g=e+d);var h=a("<a/>").addClass("fp-cuepoint fp-cuepoint"+c).css("left",100*(g/e)+"%");h.appendTo(f).mousedown(function(){return b.seek(g),!1})})})}),flowplayer(function(b,c){function h(a){var b=a.split(":");return 2==b.length&&b.unshift(0),60*60*b[0]+60*b[1]+parseFloat(b[2].replace(",","."))}var e=a("track",c),f=b.conf;if(!flowplayer.support.subtitles||(b.subtitles=e.length&&e[0].track,!f.nativesubtitles||"html5"!=f.engine)){e.remove();var g=/^(([0-9]{2}:)?[0-9]{2}:[0-9]{2}[,.]{1}[0-9]{3}) --\> (([0-9]{2}:)?[0-9]{2}:[0-9]{2}[,.]{1}[0-9]{3})(.*)/;b.subtitles=[];var i=e.attr("src");if(i){a.get(i,function(c){for(var j,k,l,m,d=0,e=c.split("\n"),f=e.length,i={};f>d;d++)if(k=g.exec(e[d])){for(j=e[d-1],l="<p>"+e[++d]+"</p><br/>";a.trim(e[++d])&&d<e.length;)l+="<p>"+e[d]+"</p><br/>";i={title:j,startTime:h(k[1]),endTime:h(k[2]||k[3]),text:l},m={time:i.startTime,subtitle:i},b.subtitles.push(i),b.cuepoints.push(m),b.cuepoints.push({time:i.endTime,subtitleEnd:j}),0===i.startTime&&b.trigger("cuepoint",m)}}).fail(function(){return b.trigger("error",{code:8,url:i}),!1});var k,j=a("<div class='fp-subtitle'/>",c).appendTo(c);b.bind("cuepoint",function(a,b,c){c.subtitle?(k=c.index,j.html(c.subtitle.text).addClass("fp-active")):c.subtitleEnd&&(j.removeClass("fp-active"),k=c.index)}).bind("seek",function(c,d,e){k&&b.cuepoints[k]&&b.cuepoints[k].time>e&&(j.removeClass("fp-active"),k=null),a.each(b.cuepoints||[],function(a,c){var d=c.subtitle;d&&k!=c.index?e>=c.time&&(!d.endTime||e<=d.endTime)&&b.trigger("cuepoint",c):c.subtitleEnd&&e>=c.time&&c.index==k+1&&b.trigger("cuepoint",c)})})}}}),flowplayer(function(b,c){function g(){if(e&&"undefined"!=typeof _gat){var f=_gat._getTracker(d),g=b.video;f._setAllowLinker(!0),f._trackEvent("Video / Seconds played",b.engine+"/"+g.type,c.attr("title")||g.src.split("/").slice(-1)[0].replace(o,""),Math.round(e/1e3)),e=0}}var d=b.conf.analytics,e=0,f=0;d&&("undefined"==typeof _gat&&a.getScript("//google-analytics.com/ga.js"),b.bind("load unload",g).bind("progress",function(){b.seeking||(e+=f?+new Date-f:0,f=+new Date)}).bind("pause",function(){f=0}),a(window).unload(g))});var F=/IEMobile/.test(d);(flowplayer.support.touch||F)&&flowplayer(function(b,c){var e=/Android/.test(d)&&!/Firefox/.test(d)&&!/Opera/.test(d),f=/Silk/.test(d);if(e){b.conf.videoTypePreference="mp4";var g=b.load;b.load=function(){var d=g.apply(b,arguments);return b.trigger("ready",b,b.video),d}}flowplayer.support.volume||c.addClass("no-volume no-mute"),c.addClass("is-touch"),c.find(".fp-timeline").data("api").disableAnimation();var h=!1;c.bind("touchmove",function(){h=!0}).bind("touchend click",function(){return h?(h=!1,void 0):b.playing&&!c.hasClass("is-mouseover")?(c.addClass("is-mouseover").removeClass("is-mouseout"),!1):(b.paused&&c.hasClass("is-mouseout")&&b.toggle(),b.paused&&F&&a("video",c)[0].play(),void 0)}),b.conf.native_fullscreen&&(a.browser.webkit||a.browser.safari)&&(b.fullscreen=function(){var b=a("video",c);b[0].webkitEnterFullScreen(),b.one("webkitendfullscreen",function(){b.prop("controls",!0).prop("controls",!1)})}),(e||f)&&b.bind("ready",function(){var d=a("video",c);d.one("canplay",function(){d[0].play()}),d[0].play(),b.bind("progress.dur",function(){var e=d[0].duration;1!==e&&(b.video.duration=e,a(".fp-duration",c).html(s(e)),b.unbind("progress.dur"))})})}),flowplayer(function(b,c){if(b.conf.embed!==!1){var d=b.conf,e=a(".fp-ui",c),f=a("<a/>",{"class":"fp-embed",title:"Copy to your site"}).appendTo(e),g=a("<div/>",{"class":"fp-embed-code"}).append("<label>Paste this HTML code on your site to embed.</label><textarea/>").appendTo(e),h=a("textarea",g);b.embedCode=function(){var e=b.video,f=e.width||c.width(),g=e.height||c.height(),h=a("<div/>",{"class":"flowplayer",css:{width:f,height:g}}),i=a("<video/>").appendTo(h);
a.each(["origin","analytics","logo","key","rtmp"],function(a,b){d[b]&&h.attr("data-"+b,d[b])}),a.each(e.sources,function(b,c){i.append(a("<source/>",{type:"video/"+c.type,src:c.src}))});var j={src:"//embed.flowplayer.org/5.4.3/embed.min.js"};a.isPlainObject(d.embed)&&(j["data-swf"]=d.embed.swf,j["data-library"]=d.embed.library,j.src=d.embed.script||j.src,d.embed.skin&&(j["data-skin"]=d.embed.skin));var k=a("<foo/>",j).append(h);return a("<p/>").append(k).html().replace(/<(\/?)foo/g,"<$1script")},c.fptip(".fp-embed","is-embedding"),h.click(function(){this.select()}),f.click(function(){h.text(b.embedCode()),h[0].focus(),h[0].select()})}}),a.fn.fptip=function(b,c){return this.each(function(){function e(){d.removeClass(c),a(document).unbind(".st")}var d=a(this);a(b||"a",this).click(function(b){b.preventDefault(),d.toggleClass(c),d.hasClass(c)&&a(document).bind("keydown.st",function(a){27==a.which&&e()}).bind("click.st",function(b){a(b.target).parents("."+c).length||e()})})})}}(jQuery),flowplayer(function(a,b){var c,d=a.conf,e=location.hostname,f=d.key;"file:"==location.protocol&&(e="localhost"),a.load.ed=1,d.hostname=e,d.origin=c||location.href,c&&b.addClass("is-embedded"),"string"==typeof f&&(f=f.split(/,\s*/)),f&&"function"==typeof key_check&&key_check(f,e)});